= Creating an API Instance by Importing From Exchange
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]

To manage the API that you created using Design Center or any another application, you must first import it to Anypoint Exchange (Exchange). You can then import the API to API Manager, from which you can modify the API version, status, and other information. After saving your changes, deploy the API to CloudHUb or any other runtime.

Before you you perform this procedure, ensure that you have the access permissions to an API in your organization's Exchange.

To create an API instance by importing from Exchange:

. In API Manager, select *Manage API* > *Manage API From Exchange*.
+
image::environment.png[]
+
. In *API Name*, type the first few characters of the API name and click the search icon.
. Select the API that you want to manage from the list of available APIs in Exchange. 
+
The *Asset type*, *API version*, and *Asset version* fields are automatically populated.   
+
NOTE: OpenAPI Specification (OAS) 3.0 is supported, with the exception of the callback feature. To work around this issue, handle the callback outside of the Mule runtime engine domain or use an OAS 3.0 specification that does not use callbacks.
+
. In *Managing Type*, choose the type of API endpoint that you want to create:
* *Basic Endpoint*
+
Use this option if you created your API outside API Manager, but want to apply policies or otherwise manage the API using API Manager. For example, if you created the API using Mule Runtime, you do not need a proxy. 
* *Endpoint with Proxy*
+
Use this option if you want to provide additional security for your API. 
+
. Based on the type of endpoint you are creating, specify the application type for a basic endpoint or the proxy deployment target for an endpoint with proxy.
. If you want to manage the API using Mule 4 or later, perform the following steps:
.. Select the *Mule version* checkbox.
.. In *Implementation URI*, replace the example by entering the URL of the site that hosts the API.
+
For example, you can use the URL of your API asset in Exchange. In this case, the API is consuming the JSONPlaceholder API, so enter `+http://jsonplaceholder.typicode.com+`.
.. If you want to secure outbound traffic, click the *+* button next the *Add TLS Context* link and specify the required details in the *Select TLS Context* window.
.. If you are creating an endpoint with proxy, accept the base path `/` for the proxy endpoint in the *Path* field, or enter another path. 
+
For example, if an API is defined with the `Implementation URI` set to `http://jsonplaceholder.typicode.com`, the proxy returns the following URIs based on the value you configure in the proxy path:
+
[%header%autowidth.spread,cols="a,a,a"]
|===
| *Proxy Path* | *Request* | *Response from Proxy*
|`/` | `https://domain.cloudhub.io/users` | `http://jsonplaceholder.typicode.com/users`
| `/api` | `https://domain.cloudhub.io/api/users` | `http://jsonplaceholder.typicode.com/users`
|===
.. Optionally, expand the *Advanced options* section and specify additional details:
* Optionally, In the *Proxy version* list, change the proxy version.
* If you want to simulate your API specification, check *Enable Console* and specify a different path in the *Console Path* field, for example, "/spec/*".
* If you want to validate inbound requests against a provided specification, check the Validations box and specify whether you want query parameters validated. 
* In the *Scheme* options list, choose between HTTP and HTTPS.
+
If you select HTTPS you can optionally specify a TLS context for inbound traffic.
* In the *API instance label* field, specify a label for the API.
* In the *Port* field, specify a different port if the displayed port is incorrect.
* In the *Response timeout* field, specify a response timeout, if required. 
* If you choose *Hybrid* as the proxy deployment target, select the *Reference user domain* checkbox to use an API gateway domain.
+
You must install the API gateway domain in Mule 3.8 and later.
. If you want to manage the API using a Mule version earlier than 4.x, perform the following steps:
.. In *Implementation URI*, replace the example by entering the URL of the site that hosts the API.
+
For example, you can use the URL of your API asset in Exchange. In this case, the API is consuming the JSONPlaceholder API, so enter `+http://jsonplaceholder.typicode.com+`.
.. If you are creating an endpoint with proxy, accept the base path `/` for the proxy endpoint in the *Path* field, or enter another path. 
+
For example, if an API is defined with the `Implementation URI` set to `http://jsonplaceholder.typicode.com`, the proxy returns the following URIs based on the value you configure in the proxy path:
+
[%header%autowidth.spread,cols="a,a,a"]
|===
| *Proxy Path* | *Request* | *Response from Proxy*
|`/` | `https://domain.cloudhub.io/users` | `http://jsonplaceholder.typicode.com/users`
| `/api` | `https://domain.cloudhub.io/api/users` | `http://jsonplaceholder.typicode.com/users`
|===
.. Optionally, expand the *Advanced options* section and specify additional details:
* If you want to validate inbound requests against a provided specification, check the Validations box and specify whether you want query parameters validated. 
* In the *Scheme* options list, choose between HTTP and HTTPS.
+
If you select HTTPS you can optionally specify a TLS context for inbound traffic.
* In the *API instance label* field, specify a label for the API.
* In the *Port* field, specify a different port if the displayed port is incorrect.
* In the *Response timeout* field, specify a response timeout, if required. 
* If you choose *Hybrid* as the proxy deployment target, select the *Reference user domain* checkbox to use an API gateway domain.
+
You must install the API gateway domain in Mule 3.8 and later.
. Click *Save*.

== See Also

* xref:apikit::apikit-simulate[Test APIs with API Console]